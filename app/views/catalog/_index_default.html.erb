<%# default partial to display solr document fields in catalog index view -%>
<dl class="dl-horizontal dl-invert">

  <% index_fields.each do |solr_fname, field| -%> 
    <% if should_render_index_field? document, field %>
       <% if not((field.label == "Library") || (field.label == "Call no")) %>
	      <dt class="blacklight-<%= solr_fname.parameterize %>"><%= render_index_field_label :field => solr_fname %></dt>
	      <dd class="blacklight-<%= solr_fname.parameterize %>">
          <% if field.label == "Abstract" %>
            <% abstract = render_index_field_value :document => document, :field => solr_fname %>
            <%= truncate abstract, length:450 %>
          <% else %>
             <%= render_index_field_value :document => document, :field => solr_fname %>
          <% end -%>
        </dd>
       
        <% end -%>
    <% end -%>
  <% end -%>
  <% if document.is_archival_collection? %>
  <dt>Table of Contents:</dt>
    <%= link_to_toc_page document, "Descriptive Summary", "abstract" %>
    <%= link_to_toc_page document, "Historical/Biographical Note", "bioghist" %>
    <%= link_to_toc_page document, "Scope and Content Note and Arrangement", "scopecontent" %>
    <%= link_to_toc_page document, "Access Points", "controlaccess" %>
    <%= link_to_toc_page document, "Administrative Information", "admininfo" %>
  <dt>Archival Items:</dt>
    <dd><b><%= link_to "Click here to search within collection", render_components_facet_link(document) %></b></dd>
  <% elsif document.is_archival_series? %>
  <dt>Archival Items:</dt>
    <dd><b><%= link_to "Click here to search within series", render_components_for_series_facet_link(document) %></b></dd>
  <% end %>
  <!-- need to create a function for this -->
  <% index_fields.each do |solr_fname, field| -%> 
    <% if should_render_index_field? document, field %>
    <% if ((field.label == "Library") || (field.label == "Call no")) %>
        <dt class="blacklight-<%= solr_fname.parameterize %>"><%= render_index_field_label :field => solr_fname %></dt>
        <dd class="blacklight-<%= solr_fname.parameterize %>"><%= render_index_field_value :document => document, :field => solr_fname %></dd>
        <% end -%>
    <% end -%>
  <% end -%>
</dl>
